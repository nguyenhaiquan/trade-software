function ReConnect(){socket.connected==!0&&(connected=!0,GetDataHoseChartInit(),GetDataHnxChartInit(),GetMarketAllIndex(0),GetDataHnxQuoteReload(),clearInterval(timeout),ClearTimeOutRequest())}function SwithChannelRequest(){connected==!1&&(timeout1=self.setInterval(function(){GetMarketAllIndex(LastMarketIndexVerionId)},3e3),timeout6=self.setInterval(function(){GetHnxStockQuote(LastHnxStockVersionId)},1e3),timeout7=self.setInterval(function(){GetHnxTop3Price(LastHnxTop3PriceVersionId)},1e3),timeout8=self.setInterval(function(){GetHnxPTBid(LastHnxPTBidVersionId)},5e3),timeout9=self.setInterval(function(){GetHnxPTMatch(LastHnxPTMatchVersionId)},5e3),timeout10=self.setInterval(function(){GetHnxPTOffer(LastHnxPTOfferVersionId)},5e3))}function ClearTimeOutRequest(){clearInterval(timeout1);clearInterval(timeout6);clearInterval(timeout7);clearInterval(timeout8);clearInterval(timeout9);clearInterval(timeout10)}var HOST="http://"+Conf.SocketHost,connected=!1,RETRY_INTERVAL=3e3,timeout,timeout1,timeout2,timeout3,timeout4,timeout5,timeout6,timeout7,timeout8,timeout9,timeout10,socketOptions={transports:["websocket"],"try multiple transports":!1,"max reconnection attempts":100},socket=io.connect(HOST,socketOptions);socket.on("connect",function(){socket.emit("stc",Conf.STC_HNX);connected=!0;ShowConnectStatus(connected);ClearTimeOutRequest()});socket.on("MARKET_ALL_INDEX",function(n){try{MarketAllIndexParser(n.msg)}catch(t){}});socket.on("HNX_QUOTE",function(n){var i,n=JXG.decompress(n.msg).split("@"),f,o,e,t,r,u;if(n.length>0){if(f=n[0],f==0||f<this.LastHnxStockVersionId)return;for(this.LastHnxStockVersionId=f,o=n[1].split("#"),e=0;e<o.length;e++)t=DataParserHnxQuote.StockInfoParse(o[e]),r=document.getElementById("tr"+t.StockSymbol),r!=null&&(i=4,u=GetColor(t.MatchPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),r.cells[0].style.color=u,document.getElementById("lnk"+t.StockSymbol).style.color=u,i++,i++,i++,i++,i++,i++,updateColor(r.cells[i++],t.MatchPrice,u,!1),showVolumeColor?updateColor(r.cells[i++],t.MatchQtty,u,isAddCommas):updateColor(r.cells[i++],t.MatchQtty,colorVol,isAddCommas),updateColor(r.cells[i++],GetPercentCEFL(t.Percent,t.MatchPrice,t.CeilingPrice,t.FloorPrice,IsShowCEFL),u,!1),i++,i++,i++,i++,i++,i++,updateColor(r.cells[i++],t.HighPrice,GetColor(t.HighPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.LowPrice,GetColor(t.LowPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.AvrPrice,GetColor(t.AvrPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],isTotalVolunmShortNumber?ConvertNumber(t.TotalQtty):t.TotalQtty,colorVol,isAddCommas),updateColor(r.cells[i++],isRoomShortNumber?ConvertNumber(t.FBuyQtty):t.FBuyQtty,colorVol,isAddCommas),updateColor(r.cells[i++],isRoomShortNumber?ConvertNumber(t.FSellQtty):t.FSellQtty,colorVol,isAddCommas),updateColor(r.cells[i++],isRoomShortNumber?ConvertNumber(t.FCurrentRoom):t.FCurrentRoom,colorVol,isAddCommas))}});socket.on("HNX_QUOTE_TOP3_PRICE",function(n){var i,n=JXG.decompress(n.msg).split("@"),f,o,e,t,r,u;if(n.length>0){if(f=n[0],f==0||f<this.LastHnxTop3PriceVersionId)return;for(this.LastHnxTop3PriceVersionId=f,o=n[1].split("#"),e=0;e<o.length;e++)t=DataParserHnxTop3Price.Top3PriceParse(o[e]),r=document.getElementById("tr"+t.StockSymbol),r!=null&&(i=4,u="",showVolumeColor?(IsBidByPriceVol?(u=GetColor(t.BidP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.BidP3,u,!1),updateColor(r.cells[i++],t.BidV3,u,isAddCommas),u=GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.BidP2,u,!1),updateColor(r.cells[i++],t.BidV2,u,isAddCommas),u=GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.BidP1,u,!1),updateColor(r.cells[i++],t.BidV1,u,isAddCommas)):(u=GetColor(t.BidP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.BidV3,u,isAddCommas),updateColor(r.cells[i++],t.BidP3,u,!1),u=GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.BidV2,u,isAddCommas),updateColor(r.cells[i++],t.BidP2,u,!1),u=GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.BidV1,u,isAddCommas),updateColor(r.cells[i++],t.BidP1,u,!1)),i++,i++,i++,u=GetColor(t.OfferP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.OfferP1,u,!1),updateColor(r.cells[i++],t.OfferV1,u,isAddCommas),u=GetColor(t.OfferP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.OfferP2,u,!1),updateColor(r.cells[i++],t.OfferV2,u,isAddCommas),u=GetColor(t.OfferP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(r.cells[i++],t.OfferP3,u,!1),updateColor(r.cells[i++],t.OfferV3,u,isAddCommas)):(IsBidByPriceVol?(updateColor(r.cells[i++],t.BidP3,GetColor(t.BidP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.BidV3,colorVol,isAddCommas),updateColor(r.cells[i++],t.BidP2,GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.BidV2,colorVol,isAddCommas),updateColor(r.cells[i++],t.BidP1,GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.BidV1,colorVol,isAddCommas)):(updateColor(r.cells[i++],t.BidV3,colorVol,isAddCommas),updateColor(r.cells[i++],t.BidP3,GetColor(t.BidP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.BidV2,colorVol,isAddCommas),updateColor(r.cells[i++],t.BidP2,GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.BidV1,colorVol,isAddCommas),updateColor(r.cells[i++],t.BidP1,GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1)),i++,i++,i++,updateColor(r.cells[i++],t.OfferP1,GetColor(t.OfferP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.OfferV1,colorVol,isAddCommas),updateColor(r.cells[i++],t.OfferP2,GetColor(t.OfferP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.OfferV2,colorVol,isAddCommas),updateColor(r.cells[i++],t.OfferP3,GetColor(t.OfferP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(r.cells[i++],t.OfferV3,colorVol,isAddCommas)))}});socket.on("HNX_PT_BID",function(n){var r=JXG.decompress(n.msg),u=r.split("@"),t,i;if(u.length>0){if(t=u[0],t==0||t<LastHnxPTBidVersionId)return;LastHnxPTBidVersionId=t;i=document.getElementById("tablePTBid");i!=null&&i!="undefined"&&CreatePutThroughBid(i,r)}});socket.on("HNX_PT_MATCH",function(n){var r=JXG.decompress(n.msg),u=r.split("@"),t,i;if(u.length>0){if(t=u[0],t==0||t<LastHnxPTMatchVersionId)return;LastHnxPTMatchVersionId=t;i=document.getElementById("tablePTMatch");i!=null&&i!="undefined"&&CreatePutThroughMatch(i,r)}});socket.on("HNX_PT_OFFER",function(n){var r=JXG.decompress(n.msg),u=r.split("@"),t,i;if(u.length>0){if(t=u[0],t==0||t<LastHnxPTOfferVersionId)return;LastHnxPTOfferVersionId=t;i=document.getElementById("tablePTOffer");i!=null&&i!="undefined"&&CreatePutThroughOffer(i,r)}});socket.on("HNX_RESET",function(n){n.msg=="HNX_RESET"&&GetDataHnxQuoteReload()});socket.on("disconnect",function(){connected=!1;ShowConnectStatus(connected);timeout=self.setInterval(function(){ReConnect()},RETRY_INTERVAL);SwithChannelRequest()});
/*
//# sourceMappingURL=HaSocket.min.js.map
*/