function ReConnect(){socket=io.connect(HOST,socketOptions);socket.connected==!0&&(connected=!0,GetDataHoseChartInit(),GetDataHnxChartInit(),GetMarketAllIndex(0),GetDataHoseQuoteReload(),clearInterval(timeout),ClearTimeOutRequest())}function SwithChannelRequest(){connected==!1&&(timeout1=self.setInterval(function(){GetMarketAllIndex(LastMarketIndexVerionId)},3e3),timeout6=self.setInterval(function(){GetHoseStockQuote(LastHoseStockVersionId)},2e3),timeout7=self.setInterval(function(){GetHosePTBid(LastHosePTBidVersionId)},5e3),timeout8=self.setInterval(function(){GetHosePTMatch(LastHosePTMatchVersionId)},5e3),timeout9=self.setInterval(function(){GetHosePTOffer(LastHosePTOfferVersionId)},5e3))}function ClearTimeOutRequest(){clearInterval(timeout1);clearInterval(timeout6);clearInterval(timeout7);clearInterval(timeout8);clearInterval(timeout9)}var LastTradingDate="",HOST="http://"+Conf.SocketHost,connected=!1,RETRY_INTERVAL=3e3,timeout,timeout1,timeout2,timeout3,timeout4,timeout5,timeout6,timeout7,timeout8,timeout9,socketOptions={transports:["websocket"],"try multiple transports":!1,"max reconnection attempts":100},socket=io.connect(HOST,socketOptions);socket.on("connect",function(){socket.emit("stc",Conf.STC_HOSE);connected=!0;ShowConnectStatus(connected);ClearTimeOutRequest()});socket.on("MARKET_ALL_INDEX",function(n){try{MarketAllIndexParser(n.msg)}catch(t){}});socket.on("HOSE_QUOTE",function(n){var r,n=JXG.decompress(n.msg).split("@"),e,s,o,t,i,f,u;if(n.length>1){if(e=n[0],e==0||e<this.LastHoseStockVersionId)return;for(this.LastHoseStockVersionId=e,s=n[1].split("#"),o=0;o<s.length;o++)t=DataParserHoseQuote.StockInfoParse(s[o]),i=document.getElementById("tr"+t.StockSymbol),i!=null&&(r=4,f=GetColor(t.MatchPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),i.cells[0].style.color=f,document.getElementById("lnk"+t.StockSymbol).style.color=f,u="",showVolumeColor?(u=GetColor(t.BidP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),IsBidByPriceVol?(updateColor(i.cells[r++],t.BidP3,u,!1),updateColor(i.cells[r++],t.BidV3,u,isAddCommas),u=GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.BidP2,u,!1),updateColor(i.cells[r++],t.BidV2,u,isAddCommas),u=GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.BidP1,u,!1),updateColor(i.cells[r++],t.BidV1,u,isAddCommas)):(updateColor(i.cells[r++],t.BidV3,u,isAddCommas),updateColor(i.cells[r++],t.BidP3,u,!1),u=GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.BidV2,u,isAddCommas),updateColor(i.cells[r++],t.BidP2,u,!1),u=GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.BidV1,u,isAddCommas),updateColor(i.cells[r++],t.BidP1,u,!1)),updateColor(i.cells[r++],t.MatchPrice,f,!1),updateColor(i.cells[r++],t.MatchQtty,f,isAddCommas),updateColor(i.cells[r++],GetPercentCEFL(t.Percent,t.MatchPrice,t.CeilingPrice,t.FloorPrice,IsShowCEFL),f,!1),u=GetColor(t.OfferP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.OfferP1,u,!1),updateColor(i.cells[r++],t.OfferV1,u,isAddCommas),u=GetColor(t.OfferP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.OfferP2,u,!1),updateColor(i.cells[r++],t.OfferV2,u,isAddCommas),u=GetColor(t.OfferP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.OfferP3,u,!1),updateColor(i.cells[r++],t.OfferV3,u,isAddCommas)):(IsBidByPriceVol?(updateColor(i.cells[r++],t.BidP3,GetColor(t.BidP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.BidV3,colorVol,isAddCommas),updateColor(i.cells[r++],t.BidP2,GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.BidV2,colorVol,isAddCommas),updateColor(i.cells[r++],t.BidP1,GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.BidV1,colorVol,isAddCommas)):(updateColor(i.cells[r++],t.BidV3,colorVol,isAddCommas),updateColor(i.cells[r++],t.BidP3,GetColor(t.BidP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.BidV2,colorVol,isAddCommas),updateColor(i.cells[r++],t.BidP2,GetColor(t.BidP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.BidV1,colorVol,isAddCommas),updateColor(i.cells[r++],t.BidP1,GetColor(t.BidP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1)),updateColor(i.cells[r++],t.MatchPrice,f,!1),updateColor(i.cells[r++],t.MatchQtty,colorVol,isAddCommas),updateColor(i.cells[r++],GetPercentCEFL(t.Percent,t.MatchPrice,t.CeilingPrice,t.FloorPrice,IsShowCEFL),f,!1),updateColor(i.cells[r++],t.OfferP1,GetColor(t.OfferP1,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.OfferV1,colorVol,isAddCommas),updateColor(i.cells[r++],t.OfferP2,GetColor(t.OfferP2,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.OfferV2,colorVol,isAddCommas),updateColor(i.cells[r++],t.OfferP3,GetColor(t.OfferP3,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.OfferV3,colorVol,isAddCommas)),updateColor(i.cells[r++],t.HighPrice,GetColor(t.HighPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.LowPrice,GetColor(t.LowPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.AvrPrice,GetColor(t.AvrPrice,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],isTotalVolunmShortNumber?ConvertNumber(t.TotalQtty):t.TotalQtty,colorVol,isAddCommas),showVolumeColor?(u=GetColor(t.Session1Price,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.Session1Price,u,!1),updateColor(i.cells[r++],t.Session1Qtty,u,isAddCommas),u=GetColor(t.Session2Price,t.PriorPrice,t.CeilingPrice,t.FloorPrice),updateColor(i.cells[r++],t.Session2Price,u,!1),updateColor(i.cells[r++],t.Session2Qtty,u,isAddCommas)):(updateColor(i.cells[r++],t.Session1Price,GetColor(t.Session1Price,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.Session1Qtty,colorVol,isAddCommas),updateColor(i.cells[r++],t.Session2Price,GetColor(t.Session2Price,t.PriorPrice,t.CeilingPrice,t.FloorPrice),!1),updateColor(i.cells[r++],t.Session2Qtty,colorVol,isAddCommas)),updateColor(i.cells[r++],isRoomShortNumber?ConvertNumber(t.FBuyQtty):t.FBuyQtty,colorVol,isAddCommas),updateColor(i.cells[r++],isRoomShortNumber?ConvertNumber(t.FSellQtty):t.FSellQtty,colorVol,isAddCommas),updateColor(i.cells[r++],isRoomShortNumber?ConvertNumber(t.FCurrentRoom):t.FCurrentRoom,colorVol,isAddCommas))}});socket.on("HOSE_PT_BID",function(n){var r=JXG.decompress(n.msg),u=r.split("@"),t,i;if(u.length>0){if(t=u[0],t==0||t<LastHosePTBidVersionId)return;LastHosePTBidVersionId=t;i=document.getElementById("tablePTBid");i!=null&&i!="undefined"&&CreatePutThroughBid(i,r)}});socket.on("HOSE_PT_MATCH",function(n){var r=JXG.decompress(n.msg),u=r.split("@"),t,i;if(u.length>0){if(t=u[0],t==0||t<LastHosePTMatchVersionId)return;LastHosePTMatchVersionId=t;i=document.getElementById("tablePTMatch");i!=null&&i!="undefined"&&CreatePutThroughMatch(i,r)}});socket.on("HOSE_PT_OFFER",function(n){var r=JXG.decompress(n.msg),u=r.split("@"),t,i;if(u.length>0){if(t=u[0],t==0||t<LastHosePTOfferVersionId)return;LastHosePTOfferVersionId=t;i=document.getElementById("tablePTOffer");i!=null&&i!="undefined"&&CreatePutThroughOffer(i,r)}});socket.on("HOSE_RESET",function(n){n.msg=="HOSE_RESET"&&GetDataHoseQuoteReload()});socket.on("disconnect",function(){connected=!1;ShowConnectStatus(connected);timeout=self.setInterval(function(){ReConnect()},RETRY_INTERVAL);SwithChannelRequest()});
/*
//# sourceMappingURL=HoSocket.min.js.map
*/